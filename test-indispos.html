<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Indisponibilit√©s - Planning Collaborateur</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .test-item {
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #f9f9f9;
        }
        .dispo-card {
            display: inline-block;
            padding: 8px 12px;
            margin: 5px;
            border-radius: 6px;
            font-size: 12px;
            border: 1px solid #ccc;
        }
        .dispo-card-disponible {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-color: #047857;
            color: white;
        }
        .dispo-card-indisponible {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            border-color: #b91c1c;
            color: white;
        }
        .dispo-card-mission {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border-color: #2563eb;
            color: white;
        }
        .test-data {
            font-family: monospace;
            background: #f0f0f0;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #2563eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Test d'affichage des indisponibilit√©s</h1>
        <p>Cette page teste le rendu des diff√©rents types de disponibilit√©s dans le planning collaborateur.</p>
        
        <div class="test-item">
            <h3>1. Types d'affichage test√©s</h3>
            <div>
                <div class="dispo-card dispo-card-disponible">
                    <i>‚úì</i> Disponible - Journ√©e
                </div>
                <div class="dispo-card dispo-card-indisponible">
                    <i>‚äó</i> Indisponible
                </div>
                <div class="dispo-card dispo-card-mission">
                    <i>‚öí</i> Mission - 09:00-17:00
                </div>
            </div>
        </div>
        
        <div class="test-item">
            <h3>2. Donn√©es de test</h3>
            <p>Exemples de donn√©es qui devraient appara√Ætre dans le planning :</p>
            
            <div class="test-data">
                <strong>Disponibilit√© journ√©e :</strong><br>
                { lieu: "DISPO JOURNEE", heure_debut: "", heure_fin: "" }
            </div>
            
            <div class="test-data">
                <strong>Indisponibilit√© :</strong><br>
                { lieu: "INDISPONIBLE", heure_debut: "", heure_fin: "" }
            </div>
            
            <div class="test-data">
                <strong>Mission :</strong><br>
                { lieu: "SOUS BALME", heure_debut: "09:00", heure_fin: "17:00" }
            </div>
        </div>
        
        <div class="test-item">
            <h3>3. Actions de test</h3>
            <p>Utilisez ces boutons pour naviguer et tester :</p>
            
            <button onclick="window.open('/collaborateur/login', '_blank')">
                üîê Connexion Collaborateur
            </button>
            
            <button onclick="window.open('/collaborateur/semaine', '_blank')">
                üìÖ Planning Collaborateur
            </button>
            
            <button onclick="window.open('/login', '_blank')">
                üè¢ Connexion Admin
            </button>
            
            <button onclick="window.open('/semaine', '_blank')">
                üìä Planning Admin
            </button>
        </div>
        
        <div class="test-item">
            <h3>4. Probl√®mes corrig√©s</h3>
            <ul>
                <li>‚úÖ <strong>Service unifi√©</strong> : Utilisation de <code>planningDisplayService.resolveDispoKind()</code></li>
                <li>‚úÖ <strong>Classes CSS exactes</strong> : Utilisation des m√™mes classes que le planning admin</li>
                <li>‚úÖ <strong>Structure HTML identique</strong> : HTML g√©n√©r√© correspond au planning admin</li>
                <li>‚úÖ <strong>Affichage temporel coh√©rent</strong> : Les indisponibilit√©s n'affichent plus de texte</li>
                <li>‚úÖ <strong>Styles CSS coh√©rents</strong> : D√©grad√©s et effets hover identiques</li>
                <li>‚úÖ <strong>Ic√¥nes coh√©rentes</strong> : M√™mes ic√¥nes via planningDisplayService</li>
                <li>‚úÖ <strong>Navigation r√©par√©e</strong> : Liens entre connexion admin/collaborateur</li>
            </ul>
        </div>
        
        <div class="test-item">
            <h3>5. Correspondance Admin ‚Üî Collaborateur</h3>
            <table style="width: 100%; border-collapse: collapse; margin: 10px 0;">
                <thead>
                    <tr style="background: #f5f5f5;">
                        <th style="padding: 8px; border: 1px solid #ddd;">√âl√©ment</th>
                        <th style="padding: 8px; border: 1px solid #ddd;">Planning Admin</th>
                        <th style="padding: 8px; border: 1px solid #ddd;">Planning Collaborateur</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ddd;"><strong>Classes CSS</strong></td>
                        <td style="padding: 8px; border: 1px solid #ddd;"><code>.dispo-card-indisponible</code></td>
                        <td style="padding: 8px; border: 1px solid #ddd;"><code>.dispo-card-indisponible</code> ‚úÖ</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ddd;"><strong>Couleurs</strong></td>
                        <td style="padding: 8px; border: 1px solid #ddd;">Rouge d√©grad√© #ef4444 ‚Üí #dc2626</td>
                        <td style="padding: 8px; border: 1px solid #ddd;">Rouge d√©grad√© #ef4444 ‚Üí #dc2626 ‚úÖ</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ddd;"><strong>Ic√¥nes</strong></td>
                        <td style="padding: 8px; border: 1px solid #ddd;">va-icon-block via planningDisplayService</td>
                        <td style="padding: 8px; border: 1px solid #ddd;">va-icon-block via planningDisplayService ‚úÖ</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ddd;"><strong>Texte temporel</strong></td>
                        <td style="padding: 8px; border: 1px solid #ddd;">Vide pour indisponibilit√©s journ√©e</td>
                        <td style="padding: 8px; border: 1px solid #ddd;">Vide pour indisponibilit√©s journ√©e ‚úÖ</td>
                    </tr>
                    <tr>
                        <td style="padding: 8px; border: 1px solid #ddd;"><strong>Structure HTML</strong></td>
                        <td style="padding: 8px; border: 1px solid #ddd;">.dispo-unified-content > .dispo-main-info</td>
                        <td style="padding: 8px; border: 1px solid #ddd;">.dispo-unified-content > .dispo-main-info ‚úÖ</td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        <div class="test-item">
            <h3>6. Instructions de test</h3>
            <ol>
                <li><strong>Comparaison directe</strong> : Ouvrez le planning admin et collaborateur c√¥te √† c√¥te</li>
                <li><strong>Cr√©ez les m√™mes donn√©es</strong> : Ajoutez une indisponibilit√© sur la m√™me date dans les deux</li>
                <li><strong>V√©rifiez la coh√©rence visuelle</strong> : Les cartes doivent √™tre identiques</li>
                <li><strong>Testez les interactions</strong> : Hover, clic, s√©lection multi-cellules</li>
                <li><strong>Validez les couleurs</strong> : Rouge d√©grad√© pour indisponible, vert pour disponible, bleu pour mission</li>
                <li><strong>Confirmez les ic√¥nes</strong> : ‚äó pour indisponible, ‚úì pour disponible, ‚öí pour mission</li>
            </ol>
        </div>
        
        <div class="test-item">
            <h3>7. Console de d√©veloppement</h3>
            <p>Ouvrez les DevTools (F12) pour voir les logs :</p>
            <ul>
                <li><code>üîç Recherche dispos pour [date]</code> - Disponibilit√©s r√©cup√©r√©es</li>
                <li><code>üìÖ CollaborateurCalendar - Props re√ßues</code> - Donn√©es re√ßues</li>
                <li><code>üîÑ Disponibilit√©s mises √† jour</code> - Mise √† jour temps r√©el</li>
                <li><strong>Nouveau :</strong> V√©rifiez que les classes CSS sont <code>.dispo-card-indisponible</code></li>
            </ul>
        </div>
    </div>

    <script>
        console.log('üß™ Page de test des indisponibilit√©s charg√©e');
        console.log('üìç V√©rifiez que les URLs suivantes fonctionnent :');
        console.log('  - /collaborateur/login (connexion collaborateur)');
        console.log('  - /collaborateur/semaine (planning collaborateur)');
        console.log('  - /login (connexion admin)'); 
        console.log('  - /semaine (planning admin)');
    </script>
</body>
</html>
